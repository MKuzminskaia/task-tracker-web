<!doctype html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8"/>
    <title>Task Tracker</title>
</head>
<body>

<h1>Task Tracker</h1>

<form method="post" action="/tasks">

    <input name = "title">
    <select name = "priority">
        <option>LOW</option>
        <option>MEDIUM</option>
        <option>HIGH</option>
        <option>CRITICAL</option>
    </select>
    <button type = "submit">OK</button>
</form>

<h2>Tasks:</h2>


<table>
    <thead>
        <tr>
             <th>Id</th>
             <th>Task</th>
             <th>Priority</th>
             <th>Status</th>
        </tr>
    </thead>
    <tbody>
        <tr th:each="t : ${tasks}" >
            <td th:text="${t.id}"></td>
            <td th:text="${t.title}"></td>
            <td th:text="${t.priority}"></td>
            <td th:text="${t.status}"></td>
            <td> <form method="post" action="/tasks/process" th:if="${t.status.name() != 'IN_PROCESS' && t.status.name() != 'DONE'}"> <input type="hidden" name = "id" th:value="${t.id}"><button type="submit"> Start </button> </form> </td>
            <td> <form method="post" action="/tasks/done" th:if="${t.status.name() != 'DONE'}"> <input type="hidden" name = "id" th:value="${t.id}"><button type="submit"> Done </button> </form> </td>
            <td> <form method="post" action="/tasks/delete"> <input type="hidden" name = "id" th:value="${t.id}"><button type="submit"> Delete </button> </form> </td>
        </tr>
    </tbody>
</table>

</ul>

</body>
</html>
